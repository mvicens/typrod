/*!
 * Typrod v1.2.0 (https://github.com/mvicens/typrod#readme)
 */
!function(){t.$inject=["$tpdProvider","$translateProvider"],n.$inject=["$injector"],e.$inject=["$compile"],r.$inject=["$compile"],o.$inject=["$injector","$compile"],p.$inject=["$compile"];var l=Date.prototype.toJSON,s={types:{original:{},stored:{}},components:{},aliases:{listed:{},grouped:{}}};function t(t,n){var e='<input type="color">',r="<tpd-output />",o="T";t.type(["string","s","str"],{input:'<input type="text">'}).type("search",{input:'<input type="search">'}).type(["password","p","pw"],{fromJson:function(t){return null==t?t:String(t)},input:'<input type="password">',output:"{{$property.value | tpdPassword}}"}).type(["number","n","num"],{input:'<input type="number">',output:"{{$property.value | number}}"}).type(["range","r"],["number",function(t){return t.input='<input type="range">',t.output+="%",t}]).type(["boolean","b","bool"],{fromJson:function(t){return!!t},input:'<input type="checkbox">',output:"{{$property.value?'✓':'✗'}}"}).type(["date","d"],{fromJson:p(),toJson:i(0),input:'<input type="date">',output:"{{$property.value | date}}"}).type(["time","t"],{fromJson:p(!0),toJson:i(1),input:'<input type="time">',output:"{{$property.value | date:'mediumTime'}}"}).type(["datetime","dt"],["date",function(t){return delete t.toJson,t.input='<input type="datetime-local">',t.output="{{$property.value | date:'medium'}}",t}]).type(["option","o","opt"],{input:'<select ng-options="item.id as item.label for item in {{$property.options}}"></select>',output:function(t){return"{{$property.value | tpdOption:"+t.$property.options+"}}"}}).type(["options","oo","opts"],["option",function(t){return t.input=t.input.replace("><"," multiple><"),t.output=function(t){return'<ul><li ng-repeat="str in $property.value | tpdOptions:'+t.$property.options+'">{{str}}</li></ul>'},t}]).type(["color","c"],{input:e,output:e.replace(">",' ng-model="$property.value" disabled>')}).type(["url","u"],{input:'<input type="url">',output:'<a ng-href="{{$property.value}}" target="_blank">{{$property.value}}</a>'}).type(["email","e","em"],["url",function(t){return u(t,"email","mailto")}]).type(["tel","t"],["url",function(t){return u(t,"tel")}]).component("form",function(t){t=t.prop("dataset").name,t=(t?t+".":"")+"{{$property.name}}";return'<div tpd-property><label ng-attr-for="'+t+'" tpd-label></label><tpd-input ng-attr-id="'+t+'" /></div><button type="submit" translate="submit"></button>'},{boolean:"<div><label><tpd-input></tpd-input> <span tpd-label></span></label></div>"}).component("dl","<dt tpd-property-start tpd-label></dt><dd tpd-property-end>"+r+"</dd>").component("table",function(t){var n="tpd-data";return"<thead "+(n=n+'="'+t.attr(n)+'"')+'></thead><tbody><tr ng-repeat="values in '+t.prop("dataset").expression+'" '+n+' tpd-values="values"></tr></tbody>'}).component("thead, tfoot",'<tr><th scope="col" tpd-property tpd-label></th></tr>').component("tbody > tr","<td tpd-property>"+r+"</td>",{number:'<td style="text-align: right;">'+r+"</td>"});function p(n){return function(t){return t&&new Date((n?a(new Date,0)+o:"")+t+(n?"Z":""))}}function i(n){return function(t){if(t)return t=a(t,n),1==n?t.slice(0,-1):t}}function u(t,n,e){return t.input='<input type="'+n+'">',t.output=t.output.replace(' target="_blank">',">").replace('"','"'+(e||n)+":"),t}function a(t,n){return l.call(t).split(o)[n]}n.translations("en",{submit:"Submit"}),n.preferredLanguage("en")}function n(i){return{restrict:"A",scope:!0,link:function(t,n,e){var r,o,n=u(n);function p(t,n){n=d(t)[n];return angular.isString(n)&&(n=i.get(n)),n=angular.isArray(n)?i.invoke(n):n}n&&(r=angular.copy(t.$eval(e[this.name])),o=t.$eval(e.tpdValues),angular.forEach(r,function(n){var e;n.type=s.aliases.listed[n.type]||n.type||"string",o&&(e=n.name,t.$watch(function(){return o[e]},function(t){n.value=p(n,"fromJson")(t)}),t.$watch(function(){return n.value},function(t){o[e]=p(n,"toJson")(t)}))}),t.$$data=r,t.$$ec=n[1])}}}function e(t){return i(t)}function r(t){return i(t,function(t){t.nextUntil("[tpd-property-end]").next().remove().end().remove()})}function o(i,u){return a(function(t,n,e){var r=d(t.$property).input,o=$.parseHTML(r),o=(1!=o.length||o[0].tagName||(r=i.get(r)),angular.isArray(r)&&(r=i.invoke(r)),angular.isFunction(r)&&(r=r(t)),angular.isElement(r)&&(r=(r=r instanceof jQuery?r:$(r)).appendTo("<div>").parent().html()),(r=$(r)).find("[tpd-target]")),p="$property";r.attr(c(e)),(o.length?o:r).attr({"ng-model":p+".value","ng-required":p+".required","ng-attr-min":"{{"+p+".min}}","ng-attr-max":"{{"+p+".max}}"}),n.replaceWith(u(r)(t))})}function p(o){return a(function(t,n,e){var r=d(t.$property).output;angular.isFunction(r)&&(r=r(t)),n.replaceWith(o($("<span>"+r+"</span>").attr(c(e)))(t))})}function d(t,n){return angular.isObject(t)&&(t=t.type),s.types[n?"original":"stored"][t]}function u(e){var n,r,o=[];return angular.forEach(s.components,function(t,n){e.is(n)&&o.push({selector:n,opts:t})}),1==o.length?o[0].opts:(angular.forEach(o,function(t){(!n||SPECIFICITY.compare(n,t.selector)<0)&&(n=t.selector,r=t.opts)}),r)}function i(r,o){return{restrict:"A",link:function(t,n){var e=t.$$ec;e&&(e=e[t.$property.type],(e=angular.isFunction(e)?e(n.closest("[tpd-data]")):e)&&((o||angular.noop)(n),n.replaceWith(r(e)(t))))}}}function a(t){return{restrict:"E",link:t,priority:601}}function c(e){var r={};return angular.forEach(e.$attr,function(t,n){r[t]=e[n]}),r}angular.module("tpd",["pascalprecht.translate"]).provider("$tpd",function(){var c={fromJson:angular.identity,toJson:function(t){return t&&t.toJSON?t.toJSON():t},input:void 0,output:"{{$property.value}}"};this.$get=function(){return function(){var e={};return angular.forEach(s,function(t,n){switch(n){case"types":t=t.original;break;case"aliases":t=t.grouped}e[n]=angular.copy(t)}),e}},this.type=function n(r,e){var t,o,p,i,u,a=s.types,l=a.original;return"*"==r?angular.forEach(_.keys(l),function(t){n(t,e)}):(t=[],o=r=angular.isArray(r)?(t=r).shift():r,angular.isArray(e)&&(o=e[0],e=e[1],angular.forEach(s.components,function(t){var e=t[1];angular.forEach(e,function(t,n){n==o&&(e[r]=t)})})),angular.isFunction(e)&&(e=e(angular.copy(d(o,!0)))),p=angular.copy(e),i=d("string",!0),c.input=i&&i.input,e=e||{},angular.forEach(c,function(t,n){e[n]=e[n]||t}),l[r]=p,a.stored[r]=e,t.length&&(i=s.aliases,u=i.listed,angular.forEach(t,function(t){u[t]=r}),i.grouped[r]=t)),this},this.component=function(t,n,e){return n=[n],e&&n.push(e),s.components[t]=n,this}}).config(t).directive("tpdData",function(){return{restrict:"A",compile:function(t){var n,e=u(t);e&&(e=e[0],angular.isFunction(e)&&(e=e(t)),n="$property in $$data",t.html($("<div>").html(e).find("[tpd-property]").attr("ng-repeat",n).end().find("[tpd-property-start]").attr("ng-repeat-start",n).end().find("[tpd-property-end]").attr("ng-repeat-end","").end().html()))},priority:1010}}).directive("tpdData",n).directive("tpdProperty",e).directive("tpdPropertyStart",r).directive("tpdLabel",function(){return{restrict:"A",template:function(){return'<span translate="{{$property.label}}"></span>'}}}).directive("tpdInput",o).directive("tpdOutput",p).filter("tpdPassword",function(){return function(t){return _.repeat("●",_.size(t))}}).filter("tpdOption",function(){return function(t,n){n=_.find(n,["id",t]);return n&&n.label}}).filter("tpdOptions",function(){return function(n,t){var e;if(n)return e=[],angular.forEach(t,function(t){-1!=n.indexOf(t.id)&&e.push(t.label)}),e}})}();